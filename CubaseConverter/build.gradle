apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

//sourceCompatibility = 1.8
version = '0.1'
mainClassName = 'se.gustavsinder.cubaseconverter.CubaseConverter'

def swtVersion = '4.3'

// Find OS name
def os = System.getProperty('os.name')

// OS specific dependencies / run
if (os == 'Mac OS X') { 
  applicationDefaultJvmArgs = ['-XstartOnFirstThread'] // Needed due to Cocoa restrictions
  dependencies {
      compile 'org.eclipse.swt:org.eclipse.swt.cocoa.macosx.x86_64:' + swtVersion
  }
} else if (os.toLowerCase() == 'linux') {
  dependencies {
      compile 'org.eclipse.swt:org.eclipse.swt.gtk.linux.x86_64:' + swtVersion
  }
} else if (os.startsWith('Windows')) {
  dependencies {
      compile 'org.eclipse.swt:org.eclipse.swt.win32.win32.x86_64:' + swtVersion
  }
} else {
  throw new GradleException('Unsupported OS "' + os + '"')
}

jar {
  baseName = 'SampleCalc'
  version = version
}

repositories {
    mavenCentral()
}

eclipse {
  classpath {
    containers 'org.springsource.ide.eclipse.gradle.classpathcontainer'
  }
}
